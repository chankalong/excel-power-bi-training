import{d as k,y as r,t as f,ac as q,aj as T,D as h,o as C,b as P,f as b}from"../modules/vue-C9BrYVpq.js";import{u as x}from"./context-4GZi2Uv-.js";import{a as B,aq as M,_ as N}from"../index-VQ8nvCoe.js";const w=["poster","controls"],$=k({__name:"SlidevVideo",props:{autoplay:{type:[Boolean,String],required:!1},autoreset:{type:String,required:!1},poster:{type:String,required:!1},printPoster:{type:String,required:!1},timestamp:{type:[String,Number],required:!1},printTimestamp:{type:[String,Number],required:!1},controls:{type:Boolean,required:!1}},setup(_){const e=_,i=r(()=>e.printPoster??e.poster),l=r(()=>e.printTimestamp??e.timestamp??0),{$slidev:n,$renderContext:y,$route:u}=x(),{isPrintMode:g}=B(),s=r(()=>g.value||!["slide","presenter"].includes(y.value)),a=f(),p=f(!1);q(()=>{if(s.value)return;const o=+(e.timestamp??0);a.value.currentTime=o;const t=r(()=>!!u&&u.no===(n==null?void 0:n.nav.currentSlideNo)),c=r(()=>{var d,v;return!!a.value&&(((v=(d=M.get(a.value))==null?void 0:d.isShown)==null?void 0:v.value)??!0)}),m=T(t,c);h(m,()=>{m.value?(e.autoplay===!0||e.autoplay==="once"&&!p.value)&&a.value.play():(a.value.pause(),(e.autoreset==="click"||e.autoreset==="slide"&&!t.value)&&(a.value.currentTime=o))},{immediate:!0})});function S(o){const t=o.target;s.value&&(!i.value||e.printTimestamp)&&(t.currentTime=l.value==="last"?t.duration:+l.value)}return(o,t)=>(C(),P("video",{ref_key:"video",ref:a,poster:s.value?i.value:e.poster,controls:!s.value&&e.controls,onPlay:t[0]||(t[0]=c=>p.value=!0),onLoadedmetadata:S},[b(o.$slots,"default")],40,w))}}),V=N($,[["__file","/Users/kalongchan/programmer/excel-power-bi-training/node_modules/@slidev/client/builtin/SlidevVideo.vue"]]);export{V as _};
